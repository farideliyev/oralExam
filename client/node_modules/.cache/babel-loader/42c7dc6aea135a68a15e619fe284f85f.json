{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferid\\\\Desktop\\\\Polito\\\\Katya\\\\client\\\\src\\\\components\\\\Student\\\\StudentInfo.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, TimePicker } from 'antd';\nimport moment from \"moment\";\nimport './StudentInfo.css';\nimport { handleFetch } from \"./Student\";\nimport { useHistory } from \"react-router\";\n\nconst StudentInfo = props => {\n  const history = useHistory();\n  const [availableDates, setAvailableDates] = useState([]);\n  const [selectedDateTime, setSelectedDateTime] = useState({\n    date: \"\",\n    time: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const {\n    id,\n    grade,\n    time,\n    presence,\n    date = {}\n  } = props.info;\n  let {\n    startDate,\n    endDate,\n    startTime,\n    endTime\n  } = date;\n  useEffect(() => {\n    if (availableDates) {\n      let start = new Date(startDate);\n      let end = new Date(endDate);\n      let difference = end.getDate() - start.getDate();\n\n      if (difference === 1) {\n        setAvailableDates([startDate, endDate]);\n      } else if (difference === 0) {\n        setAvailableDates([startDate]);\n      } else {\n        let necessaryDays = difference - 1;\n        let arrOfDays = [];\n\n        for (let i = 0; i < necessaryDays; i++) {\n          let d = moment(startDate).add(1, \"days\").format(\"YYYY-MM-DD\");\n\n          if (arrOfDays.length !== 0) {\n            let d = moment(arrOfDays[arrOfDays.length - 1]).add(1, \"days\").format(\"YYYY-MM-DD\");\n            arrOfDays.push(d);\n          }\n\n          arrOfDays.push(d);\n        }\n\n        setAvailableDates([startDate, ...arrOfDays, endDate]);\n      }\n    }\n  }, [startDate, endDate]);\n\n  const handleCheck = async e => {\n    e.preventDefault();\n\n    if (selectedDateTime.time && selectedDateTime.date) {\n      setError(\"\");\n      setLoading(true);\n      let response = await fetch(\"http://localhost:3000/api/students/addDatetime\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          datetime: selectedDateTime.date + \" \" + selectedDateTime.time,\n          id: id\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.status === 409) {\n        setError(\"Slot is full\");\n        setLoading(false);\n        setSelectedDateTime(prevState => ({ ...prevState,\n          date: \"\",\n          time: \"\"\n        }));\n      } else if (response.status === 200) {\n        setLoading(false);\n        let response = await handleFetch(id);\n\n        if (response.status === 200) {\n          history.go(0);\n        }\n      }\n    } else {\n      setError(\"Please choose time\");\n      setLoading(false);\n    }\n  }; // get Date\n\n\n  const getSelectedDate = e => {\n    let inner = e.target.innerText;\n    setSelectedDateTime(prevState => ({ ...prevState,\n      date: inner\n    }));\n  }; //get time\n\n\n  const getSelectedTime = (time, timeString) => {\n    let formattedTime = timeString + \":00\";\n    setSelectedDateTime(prevState => ({ ...prevState,\n      time: formattedTime\n    }));\n  };\n\n  function range(start, end) {\n    const result = [];\n\n    for (let i = start; i < end; i++) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  function disabledHours() {\n    const hours = range(0, 60);\n    let sT = startTime.split(\":\")[0];\n    let eT = endTime.split(\":\")[0];\n    let step = eT - sT + 1;\n    hours.splice(sT, step);\n    return hours;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"studentInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, grade && /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }, \"Your grade is \", grade), presence === \"NO\" && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 35\n    }\n  }, \"You were absent\"), time && !grade && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 32\n    }\n  }, \"Your exam will be held on \", time), time === null && presence === \"NOT YET\" && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"Please choose exam date and time\"), availableDates && availableDates.map(val => {\n    return /*#__PURE__*/React.createElement(Button, {\n      onClick: getSelectedDate,\n      name: val,\n      size: \"small\",\n      shape: \"round\",\n      className: \"studentInfo_button\",\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, val);\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TimePicker, {\n    minuteStep: 15,\n    size: \"large\",\n    showNow: false,\n    format: \"HH:mm\",\n    hideDisabledOptions: true,\n    disabledHours: disabledHours,\n    onChange: getSelectedTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    type: \"primary\",\n    className: \"studentInfo_button-check\",\n    loading: loading,\n    onClick: handleCheck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"Add if datetime\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, `${selectedDateTime.date} ${selectedDateTime.time}`), \"available\")), error && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 27\n    }\n  }, error)));\n};\n\nexport default StudentInfo;","map":{"version":3,"sources":["C:/Users/ferid/Desktop/Polito/Katya/client/src/components/Student/StudentInfo.jsx"],"names":["React","useEffect","useState","Button","TimePicker","moment","handleFetch","useHistory","StudentInfo","props","history","availableDates","setAvailableDates","selectedDateTime","setSelectedDateTime","date","time","loading","setLoading","error","setError","id","grade","presence","info","startDate","endDate","startTime","endTime","start","Date","end","difference","getDate","necessaryDays","arrOfDays","i","d","add","format","length","push","handleCheck","e","preventDefault","response","fetch","method","body","JSON","stringify","datetime","headers","status","prevState","go","getSelectedDate","inner","target","innerText","getSelectedTime","timeString","formattedTime","range","result","disabledHours","hours","sT","split","eT","step","splice","map","val","color"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Button, TimePicker} from 'antd';\r\nimport moment from \"moment\";\r\nimport './StudentInfo.css'\r\nimport {handleFetch} from \"./Student\";\r\nimport {useHistory} from \"react-router\";\r\n\r\nconst StudentInfo = (props) => {\r\n    const history = useHistory()\r\n    const [availableDates, setAvailableDates] = useState([])\r\n    const [selectedDateTime, setSelectedDateTime] = useState({date:\"\", time:\"\"})\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(\"\")\r\n    const {id, grade, time, presence, date = {}} = props.info\r\n    let {startDate, endDate, startTime, endTime} = date\r\n\r\n    useEffect(() => {\r\n        if (availableDates) {\r\n            let start = new Date(startDate)\r\n            let end = new Date(endDate)\r\n            let difference = end.getDate() - start.getDate()\r\n            if (difference === 1) {\r\n                setAvailableDates([startDate, endDate])\r\n            } else if (difference === 0) {\r\n                setAvailableDates([startDate])\r\n            } else {\r\n                let necessaryDays = difference - 1\r\n                let arrOfDays = []\r\n                for (let i = 0; i < necessaryDays; i++) {\r\n                    let d = moment(startDate).add(1, \"days\").format(\"YYYY-MM-DD\")\r\n                    if (arrOfDays.length !== 0) {\r\n\r\n                        let d = moment(arrOfDays[arrOfDays.length - 1]).add(1, \"days\").format(\"YYYY-MM-DD\")\r\n                        arrOfDays.push(d)\r\n                    }\r\n                    arrOfDays.push(d)\r\n                }\r\n\r\n                setAvailableDates([startDate, ...arrOfDays, endDate])\r\n\r\n            }\r\n\r\n        }\r\n    }, [startDate, endDate])\r\n\r\n    const handleCheck = async (e) => {\r\n        e.preventDefault()\r\n\r\n        if(selectedDateTime.time && selectedDateTime.date) {\r\n            setError(\"\")\r\n            setLoading(true)\r\n            let response = await fetch(\"http://localhost:3000/api/students/addDatetime\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    datetime: selectedDateTime.date + \" \" + selectedDateTime.time,\r\n                    id:id\r\n\r\n                }),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n\r\n            if(response.status===409) {\r\n\r\n                setError(\"Slot is full\")\r\n                setLoading(false)\r\n                setSelectedDateTime(prevState => ({...prevState, date:\"\", time:\"\"}))\r\n            }\r\n            else if(response.status===200){\r\n                setLoading(false)\r\n                let response = await handleFetch(id)\r\n                if(response.status===200){\r\n                    history.go(0)\r\n                }\r\n\r\n            }\r\n        } else {\r\n          setError(\"Please choose time\")\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n\r\n    // get Date\r\n    const getSelectedDate=(e)=>{\r\n        let inner=e.target.innerText\r\n        setSelectedDateTime(prevState => ({...prevState, date:inner}))\r\n    }\r\n\r\n    //get time\r\n    const getSelectedTime=(time, timeString)=>{\r\n        let formattedTime=timeString+ \":00\"\r\n         setSelectedDateTime(prevState => ({...prevState, time:formattedTime}))\r\n    }\r\n\r\n    function range(start, end) {\r\n        const result = [];\r\n        for (let i = start; i < end; i++) {\r\n            result.push(i);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function disabledHours() {\r\n        const hours = range(0, 60);\r\n        let sT = startTime.split(\":\")[0]\r\n        let eT = endTime.split(\":\")[0]\r\n        let step=(eT-sT)+1\r\n        hours.splice(sT, step);\r\n        return hours;\r\n    }\r\n\r\n    return (\r\n        <div className=\"studentInfo\">\r\n            {grade && <strong>Your grade is {grade}</strong>}\r\n            {presence === \"NO\" && <p>You were absent</p>}\r\n            {time && !grade && <p>Your exam will be held on {time}</p>}\r\n            {time === null && presence === \"NOT YET\" &&\r\n            <div>\r\n                <p>Please choose exam date and time</p>\r\n                {availableDates &&\r\n                availableDates.map((val) => {\r\n\r\n                    return (\r\n                        <Button\r\n                            onClick={getSelectedDate} name={val} size=\"small\"\r\n                            shape=\"round\" className=\"studentInfo_button\" type=\"primary\">\r\n                              {val}\r\n                        </Button>\r\n                    )\r\n                })\r\n                }\r\n                <div>\r\n                    <TimePicker minuteStep={15}  size=\"large\"\r\n                                showNow={false}\r\n                                format=\"HH:mm\"\r\n                                hideDisabledOptions\r\n                                disabledHours={disabledHours}\r\n                                onChange={getSelectedTime}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <Button size=\"large\" type=\"primary\"\r\n                            className=\"studentInfo_button-check\" loading={loading}\r\n                            onClick={handleCheck}\r\n\r\n                    >\r\n\r\n                        Add if datetime\r\n                        <span>{`${selectedDateTime.date} ${selectedDateTime.time}`}</span>\r\n                        available\r\n                    </Button>\r\n                </div>\r\n                {error && <div style={{color:\"red\"}}>{error}</div>}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StudentInfo\r\n\r\n"]},"metadata":{},"sourceType":"module"}