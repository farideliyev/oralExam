{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferid\\\\Desktop\\\\Polito\\\\Katya\\\\client\\\\src\\\\components\\\\Student\\\\StudentProfile.jsx\";\nimport React, { useContext, useState } from 'react';\nimport \"./StudentProfile.css\";\nimport { useHistory } from \"react-router\";\nimport { Button } from \"antd\";\nimport 'antd/dist/antd.css';\nimport StudentInfo from \"./StudentInfo\";\nimport { AuthContext } from \"../../auth/authContext\";\n\nconst StudentProfile = props => {\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  const history = useHistory();\n  const [info, setInfo] = useState({}); // get information about student\n\n  const getInfo = () => {\n    setInfo(props.info);\n    setInfo(prevState => {\n      return { ...prevState,\n        ...props.date\n      };\n    });\n  }; // LogOut function\n\n\n  const logout = async () => {\n    let response = await fetch(\"http://localhost:3000/api/students/logout\");\n\n    if (response.status === 200) {\n      dispatch({\n        type: \"STUDENT_LOGOUT\"\n      });\n      history.push('/');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    size: \"large\",\n    danger: true,\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Log out\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stdProfileWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"Student's full name: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 41\n    }\n  }, props.fullName)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Student ID: \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 32\n    }\n  }, props.id)), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    size: \"large\",\n    onClick: getInfo,\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Show Info\"), info ? /*#__PURE__*/React.createElement(StudentInfo, {\n    info: info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }\n  }, \"Loading\")));\n};\n\nexport default StudentProfile;","map":{"version":3,"sources":["C:/Users/ferid/Desktop/Polito/Katya/client/src/components/Student/StudentProfile.jsx"],"names":["React","useContext","useState","useHistory","Button","StudentInfo","AuthContext","StudentProfile","props","dispatch","history","info","setInfo","getInfo","prevState","date","logout","response","fetch","status","type","push","fullName","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAO,sBAAP;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,SAAQC,MAAR,QAAqB,MAArB;AACA,OAAO,oBAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;;AAEA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAC9B,QAAM;AAACC,IAAAA;AAAD,MAAWR,UAAU,CAACK,WAAD,CAA3B;AACA,QAAMI,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAgBV,QAAQ,CAAC,EAAD,CAA9B,CAH8B,CAM9B;;AACA,QAAMW,OAAO,GAAG,MAAM;AAEnBD,IAAAA,OAAO,CAACJ,KAAK,CAACG,IAAP,CAAP;AACCC,IAAAA,OAAO,CAAEE,SAAD,IAAa;AACjB,aAAO,EACH,GAAGA,SADA;AAEH,WAAGN,KAAK,CAACO;AAFN,OAAP;AAIH,KALM,CAAP;AAMH,GATD,CAP8B,CAkB/B;;;AACC,QAAMC,MAAM,GAAE,YAAU;AACpB,QAAIC,QAAQ,GAAE,MAAMC,KAAK,CAAC,2CAAD,CAAzB;;AAEA,QAAGD,QAAQ,CAACE,MAAT,KAAkB,GAArB,EAA0B;AACtBV,MAAAA,QAAQ,CAAC;AAACW,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAR;AACAV,MAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACH;AACJ,GAPD;;AAUA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,IAAI,EAAC,OAA5B;AAAoC,IAAA,MAAM,MAA1C;AAA2C,IAAA,OAAO,EAAEL,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASR,KAAK,CAACc,QAAf,CAAxB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASd,KAAK,CAACe,EAAf,CAAf,CAHJ,eAII,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,IAAI,EAAE,OAA7B;AAAsC,IAAA,OAAO,EAAEV,OAA/C;AAAwD,IAAA,SAAS,EAAC,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,EAKKF,IAAI,gBACC,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAEA,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPV,CALJ,CADJ;AAkBH,CA/CD;;AAiDA,eAAeJ,cAAf","sourcesContent":["import React, {useContext, useState} from 'react';\nimport \"./StudentProfile.css\"\nimport {useHistory} from \"react-router\";\nimport {Button} from \"antd\";\nimport 'antd/dist/antd.css'\nimport StudentInfo from \"./StudentInfo\";\nimport {AuthContext} from \"../../auth/authContext\";\n\nconst StudentProfile = (props) => {\n    const {dispatch}=useContext(AuthContext)\n    const history = useHistory()\n    const [info, setInfo]=useState({})\n\n\n    // get information about student\n    const getInfo = () => {\n\n       setInfo(props.info)\n        setInfo((prevState)=>{\n            return {\n                ...prevState,\n                ...props.date\n            }\n        })\n    }\n\n   // LogOut function\n    const logout= async ()=>{\n        let response= await fetch(\"http://localhost:3000/api/students/logout\")\n       \n        if(response.status===200) {\n            dispatch({type:\"STUDENT_LOGOUT\"})\n            history.push('/')\n        }\n    }\n\n\n    return (\n        <div>\n            <div className=\"logout\">\n                <Button type=\"primary\" size=\"large\" danger onClick={logout} >Log out</Button>\n            </div>\n\n            <div className=\"stdProfileWrapper\">\n\n                <p>Student's full name: <strong>{props.fullName}</strong></p>\n                <p>Student ID: <strong>{props.id}</strong></p>\n                <Button type=\"primary\" size={\"large\"} onClick={getInfo} className=\"info\">Show Info</Button>\n                {info\n                    ? <StudentInfo info={info}/>\n                    : <p>Loading</p>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default StudentProfile\n\n"]},"metadata":{},"sourceType":"module"}