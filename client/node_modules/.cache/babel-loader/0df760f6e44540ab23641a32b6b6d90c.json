{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferid\\\\Desktop\\\\Polito\\\\Katya\\\\client\\\\src\\\\components\\\\Student\\\\StudentInfo.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, TimePicker } from 'antd';\nimport moment from \"moment\";\n\nconst StudentInfo = props => {\n  const [availableDates, setAvailableDates] = useState([]);\n  const {\n    grade,\n    time,\n    presence,\n    date = {}\n  } = props.info;\n  const {\n    startDate,\n    endDate\n  } = date;\n  useEffect(() => {\n    if (availableDates) {\n      let start = new Date(startDate);\n      let end = new Date(endDate);\n      let difference = end.getDate() - start.getDate();\n\n      if (difference === 1) {\n        let d = moment(startDate);\n        console.log(d.set(da));\n        setAvailableDates([startDate, endDate]);\n      } else if (difference === 0) {\n        setAvailableDates([startDate]);\n      } // else {\n      //         // 28,29,30,31 [\"2020-10-28\", \"2020-10-29\", \"2020-10-30\", \"2020-10-31\" ]\n      //         let necessaryDays=difference-1\n      //         //[\"2020-10-28\", \"2020-10-28\"]=> [\"2020-10-29\", \"2020-10-30\"]\n      //         let arrOfDays=Array(necessaryDays).fill(startDate).map((_, index)=>{\n      //             let next=start.setDate(start.getDate()+index)\n      //         })\n      //\n      //     }\n\n    }\n  }, [startDate, endDate]);\n\n  const getDisabledMinutes = selectedHour => {\n    if (selectedHour === 1) {\n      return [30, 45];\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, grade && /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }\n  }, \"Your grade is \", grade), presence === \"NO\" && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 33\n    }\n  }, \"You were absent\"), time === null && presence === \"NOT YET\" && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Please choose exam date and time\"), availableDates && availableDates.map((val, index) => {\n    return /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      shape: \"round\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 27\n      }\n    }, val);\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TimePicker, {\n    minuteStep: 15,\n    format: \"h:mm\",\n    size: \"large\",\n    showNow: false,\n    hideDisabledOptions: true,\n    disabledMinutes: getDisabledMinutes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default StudentInfo;","map":{"version":3,"sources":["C:/Users/ferid/Desktop/Polito/Katya/client/src/components/Student/StudentInfo.jsx"],"names":["React","useEffect","useState","Button","TimePicker","moment","StudentInfo","props","availableDates","setAvailableDates","grade","time","presence","date","info","startDate","endDate","start","Date","end","difference","getDate","d","console","log","set","da","getDisabledMinutes","selectedHour","map","val","index"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,EAAgBC,UAAhB,QAAiC,MAAjC;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC5B,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAoCP,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM;AAACQ,IAAAA,KAAD;AAAQC,IAAAA,IAAR;AAAcC,IAAAA,QAAd;AAAwBC,IAAAA,IAAI,GAAC;AAA7B,MAAiCN,KAAK,CAACO,IAA7C;AACA,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA;AAAZ,MAAqBH,IAA3B;AAEAZ,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGO,cAAH,EAAkB;AACd,UAAIS,KAAK,GAAE,IAAIC,IAAJ,CAAUH,SAAV,CAAX;AACA,UAAII,GAAG,GAAE,IAAID,IAAJ,CAAUF,OAAV,CAAT;AACA,UAAII,UAAU,GAAED,GAAG,CAACE,OAAJ,KAAgBJ,KAAK,CAACI,OAAN,EAAhC;;AACA,UAAGD,UAAU,KAAG,CAAhB,EAAkB;AACd,YAAIE,CAAC,GAACjB,MAAM,CAACU,SAAD,CAAZ;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,GAAF,CAAMC,EAAN,CAAZ;AACAjB,QAAAA,iBAAiB,CAAC,CAACM,SAAD,EAAYC,OAAZ,CAAD,CAAjB;AACH,OAJD,MAIO,IAAGI,UAAU,KAAG,CAAhB,EAAkB;AACrBX,QAAAA,iBAAiB,CAAC,CAACM,SAAD,CAAD,CAAjB;AACH,OAVa,CAWlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC;AACJ,GAvBQ,EAuBN,CAACA,SAAD,EAAYC,OAAZ,CAvBM,CAAT;;AAyBA,QAAMW,kBAAkB,GAAIC,YAAD,IAAkB;AACxC,QAAGA,YAAY,KAAG,CAAlB,EAAoB;AAChB,aAAO,CAAC,EAAD,EAAI,EAAJ,CAAP;AACH;AACJ,GAJF;;AAMC,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlB,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAuBA,KAAvB,CADd,EAEKE,QAAQ,KAAG,IAAX,iBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFxB,EAIKD,IAAI,KAAG,IAAP,IAAeC,QAAQ,KAAG,SAA1B,iBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,EAEKJ,cAAc,IACbA,cAAc,CAACqB,GAAf,CAAmB,CAACC,GAAD,EAAMC,KAAN,KAAc;AAC7B,wBACI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAqB,MAAA,KAAK,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCD,GAApC,CADJ;AAGH,GAJD,CAHN,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,UAAU,EAAE,EAAxB;AAA4B,IAAA,MAAM,EAAC,MAAnC;AAA2C,IAAA,IAAI,EAAC,OAAhD;AACY,IAAA,OAAO,EAAE,KADrB;AAEY,IAAA,mBAAmB,MAF/B;AAGY,IAAA,eAAe,EAAEH,kBAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CATJ,CALJ,CADJ;AA0BH,CA9DD;;AAgEA,eAAerB,WAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Button, TimePicker} from 'antd';\r\nimport moment from \"moment\";\r\n\r\nconst StudentInfo = (props) => {\r\n   const [availableDates, setAvailableDates]=useState([])\r\n   const {grade, time, presence, date={}}=props.info\r\n   const {startDate, endDate}=date\r\n\r\n   useEffect(()=>{\r\n       if(availableDates){\r\n           let start= new Date (startDate)\r\n           let end= new Date (endDate)\r\n           let difference= end.getDate() - start.getDate()\r\n           if(difference===1){\r\n               let d=moment(startDate)\r\n               console.log(d.set(da))\r\n               setAvailableDates([startDate, endDate])\r\n           } else if(difference===0){\r\n               setAvailableDates([startDate])\r\n           }\r\n       // else {\r\n       //         // 28,29,30,31 [\"2020-10-28\", \"2020-10-29\", \"2020-10-30\", \"2020-10-31\" ]\r\n       //         let necessaryDays=difference-1\r\n       //         //[\"2020-10-28\", \"2020-10-28\"]=> [\"2020-10-29\", \"2020-10-30\"]\r\n       //         let arrOfDays=Array(necessaryDays).fill(startDate).map((_, index)=>{\r\n       //             let next=start.setDate(start.getDate()+index)\r\n       //         })\r\n       //\r\n       //     }\r\n\r\n       }\r\n   }, [startDate, endDate])\r\n\r\n   const getDisabledMinutes = (selectedHour) => {\r\n        if(selectedHour===1){\r\n            return [30,45]\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {grade && <strong>Your grade is {grade}</strong>}\r\n            {presence===\"NO\" && <p>You were absent</p>}\r\n            {/* if student have time show it and option to delete appointment*/}\r\n            {time===null && presence===\"NOT YET\" &&\r\n            <div>\r\n                <p>Please choose exam date and time</p>\r\n                {availableDates &&\r\n                  availableDates.map((val, index)=>{\r\n                      return (\r\n                          <Button size=\"small\" shape=\"round\">{val}</Button>\r\n                      )\r\n                  })\r\n                }\r\n                <div>\r\n                    <TimePicker minuteStep={15} format=\"h:mm\"  size=\"large\"\r\n                                showNow={false}\r\n                                hideDisabledOptions\r\n                                disabledMinutes={getDisabledMinutes}\r\n                    />\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StudentInfo\r\n\r\n"]},"metadata":{},"sourceType":"module"}